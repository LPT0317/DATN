import cv2
import numpy as np

QUANT_TABLE = np.asarray([
                            [16, 11, 10, 16,  24, 40,   51,  61],
                            [12, 12, 14, 19,  26, 58,   60,  55],
                            [14, 13, 16, 24,  40, 57,   69,  56],
                            [14, 17, 22, 29,  51, 87,   80,  62],
                            [18, 22, 37, 56,  68, 109, 103,  77],
                            [24, 36, 55, 64,  81, 104, 113,  92],
                            [49, 64, 78, 87, 103, 121, 120, 101],
                            [72, 92, 95, 98, 112, 100, 103,  99]
                        ],
                        dtype = np.float32)

matrix = np.array([ [65.291, 199.265, 193.30199, 185.385, 179.476,184.718, 191.057, 188.818],
                    [54.471, 196.048, 192.048, 195.19402, 194.553, 191.738, 191.194, 192.037],
                    [54.471, 197.097, 193.684, 196.656, 194.983, 191.172, 190.884, 187.831],
                    [55.155, 186.895, 187.37901, 187.72101, 186.368, 180.123, 179.949, 182.205],
                    [62.019, 181.226, 180.07399, 180.28001, 180.329, 182.753, 182.45401, 182.96],
                    [69.012, 174.095, 174.416, 178.149, 178.949, 178.99199, 181.351, 185.938],
                    [71.533, 180.166, 178.579, 174.046, 174.003, 180.644, 179.291, 180.362],
                    [76.902, 175.981, 170.801, 168.448, 170.128, 175.063, 168.81801, 173.992]]
                  , dtype=np.float32)

dct = cv2.dct(matrix)
quant = np.around(np.divide(dct, QUANT_TABLE))
quant[7][5] = 1
print(quant)
print()
dct_dequants = np.multiply(quant, QUANT_TABLE)
print(dct_dequants)
print()
idct = cv2.idct(dct_dequants)
print(idct)